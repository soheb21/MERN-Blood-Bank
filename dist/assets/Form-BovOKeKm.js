import{r as i,u as N,d as R,R as b,a as D,s as F,j as a,B as w,l as y,e as g,f as S,i as L}from"./index-C_G41WYL.js";import{I as u}from"./Input-eZcETYTT.js";const I=({formType:t})=>{const p={name:"",organisationName:"",hospitalName:"",website:"",address:"",phone:"",email:"",password:""},[l,h]=i.useState(p),[s,r]=i.useState("doner"),o=N(),d=R(),m={email:"",password:""},[c,x]=i.useState(m),j=b.filter(e=>{if(s==="hospital"&&!e.oraganisation&&!e.user)return e;if(s==="organisation"&&!e.hospital&&!e.user)return e;if(s==="admin"&&!e.hospital&&!e.oraganisation)return e;if(s==="doner"&&!e.hospital&&!e.oraganisation)return e}),f=e=>{e.preventDefault(),o(S({...l,role:s})),d("/login")},v=e=>{e.preventDefault(),o(L({...c,role:s})),d("/")},{error:n}=D(F);return a.jsx("form",{onSubmit:t==="register"?e=>f(e):e=>v(e),children:a.jsxs("div",{className:"h-full overflow-hidden",children:[n&&n!=="Failed to verify token"?w.error(n):"",a.jsxs("div",{className:"flex gap-3 mb-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("label",{htmlFor:"donerRadio",children:"Doner"}),a.jsx("input",{type:"radio",name:"role",value:"doner",onChange:e=>r(e.target.value),defaultChecked:!0})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("label",{htmlFor:"adminRadio",children:"Admin"}),a.jsx("input",{type:"radio",name:"role",value:"admin",onChange:e=>r(e.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("label",{htmlFor:"orgainsationRadio",children:"Orgainsation"}),a.jsx("input",{type:"radio",name:"role",value:"organisation",onChange:e=>r(e.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("label",{htmlFor:"hospitalRadio",children:"Hospital"}),a.jsx("input",{type:"radio",name:"role",value:"hospital",onChange:e=>r(e.target.value)})]})]}),a.jsxs("div",{className:"overflow-auto h-full flex flex-col gap-2",children:[t==="register"?a.jsx(u,{controls:j,formData:l,setFormData:h}):a.jsx(u,{controls:y,formData:c,setFormData:x}),t!=="register"?a.jsxs("p",{children:["Not Registered yet? ",a.jsx(g,{to:"/register",className:"ml-1 text-purple-500",children:"Register"})]}):a.jsxs("p",{children:["Already have an account? ",a.jsx(g,{to:"/login",className:"ml-1 text-purple-500",children:"Login"})]}),a.jsx("button",{type:"submit",className:"bg-purple-500 w-full text-white text-lg p-2 rounded-md",children:t==="register"?"Register":"Login"})]})]})})};export{I as F};
