import{r,u as j,a as p,s as f,j as e,p as y,b as w,g,L as v,S as N,h as I,c as S}from"./index-C_G41WYL.js";import{I as T}from"./Input-eZcETYTT.js";const B=({show:s,setShow:a})=>{const[t,d]=r.useState("in"),[i,m]=r.useState(""),c=[{id:1,label:`${t==="in"?"Doner Email":" Hospital Email"}`,name:"email",type:"email",doner:!0},{id:3,label:"Quantity",name:"quantity",type:"number"}],x={email:"",quantity:""},[n,u]=r.useState(x),h=j(),{user:l}=p(f),b=o=>{o.preventDefault(),h(y({inventoryType:t,bloodGroup:i,quantity:n.quantity,email:n.email,organisaion:l._id}))};return e.jsxs("section",{className:"relative mt-3 z-[4]  backdrop-blur-2xl bg-purple-200 h-96 md:w-96 w-full rounded-tl-none rounded-3xl",children:[e.jsx("p",{className:"absolute -top-5   bg-white w-fit p-2 rounded-full",children:"^"}),e.jsxs("form",{onSubmit:b,className:"flex flex-col p-4 gap-2",children:[e.jsx("h1",{className:"bg-white w-fit mx-auto px-2 shadow-md text-purple-500 rounded-md",children:"Form"}),e.jsxs("div",{className:"flex gap-3 text-white",children:[e.jsx("p",{className:"bg-slate-500 px-2 rounded-md",children:"Blood Type"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("input",{defaultChecked:!0,onChange:o=>d(o.target.value),value:"in",name:"inRadio",id:"in",type:"radio"}),e.jsx("label",{htmlFor:"in",children:"In"})]}),e.jsxs("div",{className:"flex gap-1 ",children:[e.jsx("input",{onChange:o=>d(o.target.value),value:"out",name:"inRadio",id:"out",type:"radio"}),e.jsx("label",{htmlFor:"out",children:"OUT"})]})]}),e.jsx(T,{controls:c,formData:n,setFormData:u}),e.jsxs("select",{onChange:o=>m(o.target.value),className:"text-purple-500 p-2 w-fit outline-none rounded-md",children:[e.jsx("option",{label:"Select Blood"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"AB+",children:"AB+"})]}),e.jsxs("div",{className:"flex gap-2 w-full justify-end ",children:[e.jsx("button",{onClick:()=>a(!s),className:" bg-red-500 w-fit rounded-md text-white p-2 mt-3",children:"close"}),e.jsx("button",{type:"submit",className:"bg-purple-500 w-fit rounded-md text-white p-2 mt-3",children:"Submit"})]})]})]})},D=({page:s,setPage:a,totalPage:t})=>e.jsx(e.Fragment,{children:e.jsxs("p",{className:"fixed bg-white right-1 bottom-3 md:bottom-14 flex text-xl  justify-center md:mt-2 md:justify-end",children:[e.jsx("button",{className:`${s==1?"bg-gray-200":"bg-white"} shadow-md text-purple-500 text-xl rounded-full px-2 mr-2`,disabled:s==1,onClick:()=>a(s-1),children:e.jsx("i",{className:"fa-regular fa-circle-left"})}),s," - ",e.jsxs("span",{className:"ml-1 text-red-500",children:[" ",t===0?1:t]}),e.jsx("button",{disabled:s===t||t===0,className:`${s==t?"bg-gray-200":"bg-white"} shadow-md text-purple-500 text-xl rounded-full px-2 ml-2`,onClick:()=>a(s+1),children:e.jsx("i",{className:"fa-regular fa-circle-right"})})]})}),C=()=>{const[s,a]=r.useState(!1),t=j(),{TotalItems:d,inventory:i,loading:m,error:c}=p(w),{user:x}=p(f),[n,u]=r.useState(1);r.useEffect(()=>{t(g(n))},[n]);const h=Math.ceil(d/S);return e.jsx(v,{children:e.jsxs("section",{className:"w-full  relative",children:[x.role!=="doner"&&e.jsx("h1",{onClick:()=>a(!s),className:"text-start relative  transition delay-150 ease-in-out bg-green-500 w-fit p-2 text-white cursor-pointer hover:bg-purple-400",children:"+Add Inventory"}),s&&e.jsx("div",{className:"absolute h-full w-full",children:e.jsx(B,{show:s,setShow:a})}),c&&e.jsx("p",{className:"text-red-500 ",children:c}),m?e.jsx(N,{}):e.jsxs("div",{className:"w-full  h-full flex flex-col gap-4 overflow-x-scroll no-scrollbar",children:[e.jsxs("table",{className:" mt-2 w-full ",children:[e.jsx("thead",{className:"bg-white  ",children:e.jsxs("tr",{className:"md:text-lg text-red-600 bg-purple-200  ",children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Doner Email"}),e.jsx("th",{children:"Blood Group"}),e.jsx("th",{children:"Qunatity"}),e.jsx("th",{children:"Time"})]})}),e.jsx("tbody",{className:"bg-white text-purple-700 shadow-md ",children:i&&i.map(l=>e.jsxs("tr",{children:[e.jsx("td",{className:"md:px-6 px-3 md:py-3 shadow-md",children:l.inventoryType}),e.jsx("td",{className:"md:px-6 px-3 md:py-3 shadow-md",children:l.email}),e.jsx("td",{className:"md:px-6 px-3 md:py-3 shadow-md",children:l.bloodGroup}),e.jsxs("td",{className:"md:px-6 px-3 md:py-3 shadow-md",children:[l.quantity,"ML"]}),e.jsx("td",{className:"md:px-6 px-3 md:py-3 shadow-md",children:I(l.createdAt).format("MMMM-DD-YYYY  h:mm:ss a")})]},l._id))})]}),e.jsx(D,{page:n,setPage:u,totalPage:h})]})]})})};export{C as default};
